import{a as b}from"./chunk-K27Z6RF3.js";import{a as S}from"./chunk-DK2CA245.js";import"./chunk-AH4H4XQW.js";import{Aa as m,Ca as c,La as p,Ma as f,Q as l,Ra as g,Sa as u,Ta as h,Ua as r,Va as n,Wa as d,ab as x,eb as s,qa as a}from"./chunk-CASQR33Q.js";var _=()=>[import("./chunk-PFRTAEBT.js").then(t=>t.Recommendedmovies)],w=(t,e)=>e.id;function y(t,e){if(t&1&&d(0,"moviecard",7),t&2){let i=e.$implicit,o=x();h("title",i.name||i.title)("releaseYear",i!=null&&i.release_date?i.release_date.slice(0,4):i.first_air_date.slice(0,4))("genreIdList",i.genre_ids.slice(0,2))("genreList",o.genreList)("rate",i.vote_average)("posterSrc",o.imgBase+i.poster_path)}}function T(t,e){t&1&&d(0,"app-recommendedmovies")}function D(t,e){t&1&&(r(0,"span",9),s(1,"Loading ...."),n())}function I(t,e){t&1&&(r(0,"span",9),s(1,"Error ...."),n())}var v=class t{moviesAPI=l(S);imgBase="https://image.tmdb.org/t/p/w500";trendingShows=[];genreList=[];trendingShowsSubscription;allGeneresSubscription;getTrendingShowsData(){this.trendingShowsSubscription=this.moviesAPI.getTrendingShows().subscribe({next:e=>{this.trendingShows=e.results},error:e=>{console.log(`%c ${e.message}`,"color:red")}})}getListOfOfficialGenresData(){this.allGeneresSubscription=this.moviesAPI.getListOfOfficialGenres().subscribe({next:e=>this.genreList=e.genres,error:e=>{console.log(`%c ${e.message}`,"color:red")}})}ngOnInit(){this.getTrendingShowsData(),this.getListOfOfficialGenresData()}ngOnDestroy(){this.trendingShowsSubscription.unsubscribe(),this.allGeneresSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=m({type:t,selectors:[["app-trendify"]],decls:18,vars:0,consts:[["recommendedShows",""],["id","trendify"],[1,"mx-5","sm:mx-10","md:mx-[calc((100%-40rem)/2)]","lg:mx-[calc((100%-48rem)/2)]","xl:mx-[calc((100%-64rem)/2)]"],[1,"pt-6","pb-20"],[1,"py-5","px-7.5","mb-7.5","rounded-2xl","bg-[#162032]","w-full","text-center","text-white"],[1,"text-xl","md:text-2xl","font-bold"],[1,"grid","gap-5","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5"],[3,"title","releaseYear","genreIdList","genreList","rate","posterSrc"],[1,"mt-7","py-5","px-7.5","mb-7.5","rounded-2xl","bg-[#162032]","w-full","text-center","text-white"],[1,"block","mt-5"]],template:function(i,o){i&1&&(r(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),s(5,"Trending Shows"),n()(),r(6,"div",6),g(7,y,1,6,"moviecard",7,w),n(),r(9,"div",8,0)(11,"h2",5),s(12,"Recommended Shows"),n()(),c(13,T,1,0)(14,D,2,0)(15,I,2,0),p(16,13,_,14,null,15),f(9),n()()()),i&2&&(a(7),u(o.trendingShows))},dependencies:[b],encapsulation:2})};export{v as Trendify};
